{"ast":null,"code":"var __extends = this && this.__extends || function () {\n  var extendStatics = function (d, b) {\n    extendStatics = Object.setPrototypeOf || {\n      __proto__: []\n    } instanceof Array && function (d, b) {\n      d.__proto__ = b;\n    } || function (d, b) {\n      for (var p in b) if (b.hasOwnProperty(p)) d[p] = b[p];\n    };\n    return extendStatics(d, b);\n  };\n  return function (d, b) {\n    extendStatics(d, b);\n    function __() {\n      this.constructor = d;\n    }\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n  };\n}();\nvar __decorate = this && this.__decorate || function (decorators, target, key, desc) {\n  var c = arguments.length,\n    r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc,\n    d;\n  if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\n  return c > 3 && r && Object.defineProperty(target, key, r), r;\n};\nvar __metadata = this && this.__metadata || function (k, v) {\n  if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(k, v);\n};\nvar __param = this && this.__param || function (paramIndex, decorator) {\n  return function (target, key) {\n    decorator(target, key, paramIndex);\n  };\n};\nimport { ChangeDetectorRef, Component, ElementRef, EventEmitter, HostBinding, HostListener, Inject, Optional, ViewChild } from '@angular/core';\nimport { animate, animateChild, keyframes, style, transition, trigger } from '@angular/animations';\nimport { DOCUMENT } from '@angular/common';\nimport { FocusTrapFactory } from '@angular/cdk/a11y';\nimport { BasePortalOutlet, CdkPortalOutlet } from '@angular/cdk/portal';\nvar zoomFadeIn = {\n  opacity: 0,\n  transform: 'translateX({{ x }}) translateY({{ y }}) scale({{scale}})'\n};\nvar zoomFadeInFrom = {\n  opacity: 0,\n  transform: 'translateX({{ x }}) translateY({{ y }}) scale({{scale}})',\n  transformOrigin: '{{ ox }} {{ oy }}'\n};\nvar OwlDialogContainerComponent = function (_super) {\n  __extends(OwlDialogContainerComponent, _super);\n  function OwlDialogContainerComponent(changeDetector, elementRef, focusTrapFactory, document) {\n    var _this = _super.call(this) || this;\n    _this.changeDetector = changeDetector;\n    _this.elementRef = elementRef;\n    _this.focusTrapFactory = focusTrapFactory;\n    _this.document = document;\n    _this.ariaLabelledBy = null;\n    _this.animationStateChanged = new EventEmitter();\n    _this.isAnimating = false;\n    _this.state = 'enter';\n    _this.params = {\n      x: '0px',\n      y: '0px',\n      ox: '50%',\n      oy: '50%',\n      scale: 0\n    };\n    _this.elementFocusedBeforeDialogWasOpened = null;\n    return _this;\n  }\n  Object.defineProperty(OwlDialogContainerComponent.prototype, \"config\", {\n    get: function () {\n      return this._config;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OwlDialogContainerComponent.prototype, \"owlDialogContainerClass\", {\n    get: function () {\n      return true;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OwlDialogContainerComponent.prototype, \"owlDialogContainerTabIndex\", {\n    get: function () {\n      return -1;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OwlDialogContainerComponent.prototype, \"owlDialogContainerId\", {\n    get: function () {\n      return this._config.id;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OwlDialogContainerComponent.prototype, \"owlDialogContainerRole\", {\n    get: function () {\n      return this._config.role || null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OwlDialogContainerComponent.prototype, \"owlDialogContainerAriaLabelledby\", {\n    get: function () {\n      return this.ariaLabelledBy;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OwlDialogContainerComponent.prototype, \"owlDialogContainerAriaDescribedby\", {\n    get: function () {\n      return this._config.ariaDescribedBy || null;\n    },\n    enumerable: true,\n    configurable: true\n  });\n  Object.defineProperty(OwlDialogContainerComponent.prototype, \"owlDialogContainerAnimation\", {\n    get: function () {\n      return {\n        value: this.state,\n        params: this.params\n      };\n    },\n    enumerable: true,\n    configurable: true\n  });\n  OwlDialogContainerComponent.prototype.ngOnInit = function () {};\n  OwlDialogContainerComponent.prototype.attachComponentPortal = function (portal) {\n    if (this.portalOutlet.hasAttached()) {\n      throw Error('Attempting to attach dialog content after content is already attached');\n    }\n    this.savePreviouslyFocusedElement();\n    return this.portalOutlet.attachComponentPortal(portal);\n  };\n  OwlDialogContainerComponent.prototype.attachTemplatePortal = function (portal) {\n    throw new Error('Method not implemented.');\n  };\n  OwlDialogContainerComponent.prototype.setConfig = function (config) {\n    this._config = config;\n    if (config.event) {\n      this.calculateZoomOrigin(event);\n    }\n  };\n  OwlDialogContainerComponent.prototype.onAnimationStart = function (event) {\n    this.isAnimating = true;\n    this.animationStateChanged.emit(event);\n  };\n  OwlDialogContainerComponent.prototype.onAnimationDone = function (event) {\n    if (event.toState === 'enter') {\n      this.trapFocus();\n    } else if (event.toState === 'exit') {\n      this.restoreFocus();\n    }\n    this.animationStateChanged.emit(event);\n    this.isAnimating = false;\n  };\n  OwlDialogContainerComponent.prototype.startExitAnimation = function () {\n    this.state = 'exit';\n    this.changeDetector.markForCheck();\n  };\n  OwlDialogContainerComponent.prototype.calculateZoomOrigin = function (event) {\n    if (!event) {\n      return;\n    }\n    var clientX = event.clientX;\n    var clientY = event.clientY;\n    var wh = window.innerWidth / 2;\n    var hh = window.innerHeight / 2;\n    var x = clientX - wh;\n    var y = clientY - hh;\n    var ox = clientX / window.innerWidth;\n    var oy = clientY / window.innerHeight;\n    this.params.x = x + \"px\";\n    this.params.y = y + \"px\";\n    this.params.ox = ox * 100 + \"%\";\n    this.params.oy = oy * 100 + \"%\";\n    this.params.scale = 0;\n    return;\n  };\n  OwlDialogContainerComponent.prototype.savePreviouslyFocusedElement = function () {\n    var _this = this;\n    if (this.document) {\n      this.elementFocusedBeforeDialogWasOpened = this.document.activeElement;\n      Promise.resolve().then(function () {\n        return _this.elementRef.nativeElement.focus();\n      });\n    }\n  };\n  OwlDialogContainerComponent.prototype.trapFocus = function () {\n    if (!this.focusTrap) {\n      this.focusTrap = this.focusTrapFactory.create(this.elementRef.nativeElement);\n    }\n    if (this._config.autoFocus) {\n      this.focusTrap.focusInitialElementWhenReady();\n    }\n  };\n  OwlDialogContainerComponent.prototype.restoreFocus = function () {\n    var toFocus = this.elementFocusedBeforeDialogWasOpened;\n    if (toFocus && typeof toFocus.focus === 'function') {\n      toFocus.focus();\n    }\n    if (this.focusTrap) {\n      this.focusTrap.destroy();\n    }\n  };\n  __decorate([ViewChild(CdkPortalOutlet), __metadata(\"design:type\", CdkPortalOutlet)], OwlDialogContainerComponent.prototype, \"portalOutlet\", void 0);\n  __decorate([HostBinding('class.owl-dialog-container'), __metadata(\"design:type\", Boolean), __metadata(\"design:paramtypes\", [])], OwlDialogContainerComponent.prototype, \"owlDialogContainerClass\", null);\n  __decorate([HostBinding('attr.tabindex'), __metadata(\"design:type\", Number), __metadata(\"design:paramtypes\", [])], OwlDialogContainerComponent.prototype, \"owlDialogContainerTabIndex\", null);\n  __decorate([HostBinding('attr.id'), __metadata(\"design:type\", String), __metadata(\"design:paramtypes\", [])], OwlDialogContainerComponent.prototype, \"owlDialogContainerId\", null);\n  __decorate([HostBinding('attr.role'), __metadata(\"design:type\", String), __metadata(\"design:paramtypes\", [])], OwlDialogContainerComponent.prototype, \"owlDialogContainerRole\", null);\n  __decorate([HostBinding('attr.aria-labelledby'), __metadata(\"design:type\", String), __metadata(\"design:paramtypes\", [])], OwlDialogContainerComponent.prototype, \"owlDialogContainerAriaLabelledby\", null);\n  __decorate([HostBinding('attr.aria-describedby'), __metadata(\"design:type\", String), __metadata(\"design:paramtypes\", [])], OwlDialogContainerComponent.prototype, \"owlDialogContainerAriaDescribedby\", null);\n  __decorate([HostBinding('@slideModal'), __metadata(\"design:type\", Object), __metadata(\"design:paramtypes\", [])], OwlDialogContainerComponent.prototype, \"owlDialogContainerAnimation\", null);\n  __decorate([HostListener('@slideModal.start', ['$event']), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [Object]), __metadata(\"design:returntype\", void 0)], OwlDialogContainerComponent.prototype, \"onAnimationStart\", null);\n  __decorate([HostListener('@slideModal.done', ['$event']), __metadata(\"design:type\", Function), __metadata(\"design:paramtypes\", [Object]), __metadata(\"design:returntype\", void 0)], OwlDialogContainerComponent.prototype, \"onAnimationDone\", null);\n  OwlDialogContainerComponent = __decorate([Component({\n    selector: 'owl-dialog-container',\n    template: \"<ng-template cdkPortalOutlet></ng-template>\",\n    animations: [trigger('slideModal', [transition('void => enter', [style(zoomFadeInFrom), animate('300ms cubic-bezier(0.35, 0, 0.25, 1)', style('*')), animate('150ms', keyframes([style({\n      transform: 'scale(1)',\n      offset: 0\n    }), style({\n      transform: 'scale(1.05)',\n      offset: 0.3\n    }), style({\n      transform: 'scale(.95)',\n      offset: 0.8\n    }), style({\n      transform: 'scale(1)',\n      offset: 1.0\n    })])), animateChild()], {\n      params: {\n        x: '0px',\n        y: '0px',\n        ox: '50%',\n        oy: '50%',\n        scale: 1\n      }\n    }), transition('enter => exit', [animateChild(), animate(200, style(zoomFadeIn))], {\n      params: {\n        x: '0px',\n        y: '0px',\n        ox: '50%',\n        oy: '50%'\n      }\n    })])]\n  }), __param(3, Optional()), __param(3, Inject(DOCUMENT)), __metadata(\"design:paramtypes\", [ChangeDetectorRef, ElementRef, FocusTrapFactory, Object])], OwlDialogContainerComponent);\n  return OwlDialogContainerComponent;\n}(BasePortalOutlet);\nexport { OwlDialogContainerComponent };","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}